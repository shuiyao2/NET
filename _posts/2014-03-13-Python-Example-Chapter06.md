---
date: 2014-03-13 20:00:00+00:00
layout: post
title:  '[Python 标准库] 第六章 文件系统' 
categories: 读书笔记
tags: Python
---

#### 第六章 文件系统

##### 6.1 os.path - 平台独立的文件名管理
6.1.1 解析路径  
* `os.sep`：路径各部分之间的分隔符  
* `os.exsep`：文件名与文件"扩展名"自己的分隔符  
* `os.pardir`：路径中表示目录树上一级的部分  
* `os.curdir`：路径中只是当前目录部分  
**函数**  
`split()`：将路径分解为两个独立部分，并返回包含结果的一个 tuple：
第二个元素时路径的最后一部分，第一个元素时最后这个部分之前的所有内容  
`basename()`：路径的最后一部分  
`dirname()`：返回分解路径得到的第一部分  
`splitext()`：根据扩展名分隔符分解路径  
`cmmonprefix()`：取路径列表为参数，返回一个字符串，表示所有路径中都出现的公共前缀  

6.1.2 建立路径  
**函数**  
`join()`：合并路径  
`expandvars()`：扩展路径中出现的所有 shell 环境变量  

6.1.3 规范化路径  
`normpath()`：清楚多余分隔符或相对路径部分  
`abspath()`：将相对路径转换为绝对文件名  

6.1.4 文件时间
`getatime()`：返回访问时间  
`getmtime()`：返回修改时间  
`getctime()`：返回创建时间  
`getsize()`：返回文件中的数据量，以字节为单位表示  

6.1.5 测试文件  

6.1.6 遍历一个目录树  
**函数**  
`walk()`：遍历一个树中所有目录

##### 6.2 glob - 文件名模式匹配
作用：使用 UNIX shell 规则查找与一个模式匹配的文件名  
**通配符**  
星号(*)匹配一个文件名段中的0个或多个字符  
问号(?)匹配文件名这种该位置的单个字符  
字符区间([a-z])匹配多个字符中的一个字符，短横线指示连续字符组成的不间断区间  
字符区间([0-9])匹配所有多个数字，短横线指示连续字符组成的不间断区间  

##### 6.3 linecache - 高效读取文本文件
作用：从文件或导入的 Python 模块中获取文本，维护一个结果缓存，从而更高效地从相同文件读取多行文本  
**函数**  
`getline()`：读取特定行，文件号从1开始；返回的各行末尾都包括换行符；超出文件中合法行号范围，返回一个空串  

##### 6.4 tempfile - 临时文件系统对象
作用：创建临时文件系统对象
**函数**  
`TemporaryFile()`：创建文件(未命名文件)  
`NameTemporaryFile()`：创建文件(命名文件)  
`mkdtemp()`：创建一个临时目录并打开该目录中的所有文件，
*需显示的删除*  

##### 6.5 shutil - 高级文件操作
**函数**  
`copyfile()`：将源的内容复制到目标  
`copy2()`：将源的内容复制到目标，包含访问和修改时间  
`copymode()`：复制权限  
`copystat()`：复制与文件关联的权限和日期  
`copytree()`：复制目录，*目标目录不能已存在*  
`rmtree()`：删除目录及其内容  
`move()`：移动目录  

##### 6.6 内存映射文件
作用：建立内存映射文件  
**函数**  
`mmap()`：创建内存映射文件  

##### 6.7 codecs - 字符串编码和解码
作用：编码器和解码器，用于转换文本的不同表示  
**函数**  
`open()`：读取数据  

##### 6.8 StringIO - 提供类文件 API 的文本缓冲区
作用：使用一个类文件 API 处理文本缓冲区  

##### 6.9 fnmatch - UNIX 式 glob 模式匹配 
作用：处理 UNIX 式文件名比较  
**函数**  
`fnmatch()`：根据一个模式比较文件名，并返回一个布尔值  
`fnmatchcase()`：根据一个模式(强制区分大小写)比较文件名，并返回一个布尔值  
`filter()`：返回与模式参数匹配的文件名列表  
`translate()`：将 glob 模式转换为正则表达式的公共 API  

##### 6.10 dircache - 缓存目录列表  
作用：缓存目录列表，目录的修改时间改变时会更新  

##### 6.11 filecmp - 比较文件 
作用：比较文件系统中文件和目录  
**函数**  
`cmp()`：比较文件系统中的两个文件  
`cmpfiles()`：返回3个文件名列表：匹配的文件、不匹配的文件和不能比较的文件  
`dircmp()`：比较文件系统中的两个目录  
